\chapter{Related Work}
\label{ch:chapter03}
%theres also research specifically for ethereum private sidechains \cite{robinson2019atomic}
%from cross.chain swaps paper 
%CROSS CHAIN SWAPS ARE WELL KNOWN CONCEPT IN BLOCKCHAIN COMMUNITY [4,6,9,20,21,27] -> explain further in related work tho!!

The concept of two-party atomic cross-chain swaps is believed that it emerged from an online forum discussion, see footnotes for references to bitcoinwiki and bitcointalk threads \cite{atomictrading} \cite{cutandchoose}. There is open source code available on github \cite{hashedtimelocked} \cite{dered} implementing a two-party cross-chain swaps protocol for selected currencies, as well as another proposal for applications using swaps \cite{zyskind2018enigma}. To address the scalability limits of existing blockchains several off-chain payment networks do exist, for further details refer to \cite{raidennetwork} and to \cite{poon2016bitcoin} \cite{decker2015fast} \cite{green2017bolt}. These concepts process multiple transactions off-chain and eventually resolve the final balance through a single on-chain transaction. The Revive network \cite{khalil2017revive} is another actor which uses off-chain transactions in a way to ensure, that participating parties do not end off worse in the process of re-balancing. These algorithms also utilitize the concept of hashed timelock contracts, but they address a different set of problems. Multi-party swaps in example become important, when matching kidney donors and recipients. Think of a case, where a transplant recipient has an incompatible donor and wants to swap donor with another recipient where all parties want to assure, that each recipient obtains a compatible organ. A number of algorithms \cite{abraham2007clearing} \cite{dickerson2016position} \cite{jia2017efficient} have been proposed for matching donors and recipients. Shapley and Scarf \cite{shapley1974cores} write about the circumstances under which a certain kind of swap markets could have strong equilibrium. Kaplan \cite{kaplan2011improved} describes a polynominal-time algorithm, which constructs a swap digraph for a given set of swaps, if one exists. This paper focuses on "the clearing problem" though, which is roughly analogous to constructing a swap digraph, but not on how execute those atomic cross-chain swaps on blockchains. A precursor of atomic cross-chain swaps is the fair exchange problem \cite{franklin1998secure} \cite{micali2003simple}. It tries to find a solution for an asset exchange between parties, which do not trust each other. Since its proven that a fair exchange between two parties can not be guaranteed without a trusted third party \cite{pagnia1999impossibility}, atomic cross-chain swaps could be a successor to the fair exchange problem through new technologies like blockchain and smart contracts. Borkowski proposes \ac{DeXTT} another uptake on blockchain interoperability by formally describing blockchains and token transfers between those, through utilitizing concepts such as claim-first transactions and determistic witnesses \cite{borkowski2019dextt}. Komodo \cite{barterdex2020} by SuperNETorg is another available atomic swap decentralized exchange of native coins, their BarterDEX system combines three key component like order matching, trade clearing and liquidity provision in a single system. It allows users to make a coin conversion request, find a suitable match and complete the trade using an atomic cross-chain protocol. Despite the fact that blockchain interoperability is addressed by many researches in different ways, these cross-chain technologies fall into three main categories according to Li and Zhang \cite{li2019research}. The main categories of the cross-chain technologies are notary or multiple signature schemes, side chain/relay chain and hash timelock, the principles of these main categories are shown in table \ref{table:1}. \newline

\begin{table}[h!]
	\centering
	\begin{tabular}{|c | c | c |} 
		\hline 
		Cross-chain technology & Algorithmic principle & Shortcoming \\ [0.5ex] 
		\hline \hline
		Notary & Transfer of assets to notary accounts & Weak centralization  \\ 
		\hline
		Side chain & Read the data in the side chain & Verification difficulties  \\
		\hline
		Relay chain & Establishing relay chain & Data redundancy  \\ [1ex] 
		\hline
	\end{tabular}
	\caption{Cross-chain technology comparison}
	\label{table:1}
\end{table}

The notary or multi-signature scheme is a solution with weak centralization. It transfers assets by locking them to multiple accounts on the main-chain and requires signatures from multiple notaries to release the locked funds. Ripple by Interledger protocol \cite{hope2016interledger} transfers assets across different blockchains through trusted third parties. To transfer assets cross-chain, the notary or multi-signature scheme is the simplest way to achieve swaps, but still depends on the honesty of the notaries to ensure none of the participating parties end up worse. The side chain technology transfers digital assets by reading the data from the main chain and verifies the authenticity of the transaction payments. For example the BTC Relay \cite{btcrelay} project implements those cross-chain payments by verifying the bitcoin \ac{SPV} payment path to trigger ethereum smart contracts \cite{buterin2014ethereum}. The relay technology links existing blockchains by building a relay chain to implement cross-chain swaps of assets. Cosmos \cite{kwon2018network} and Polkadot \cite{wood2016polkadot} propose a cross-chain platform compatible with any blockchain, to build such a system they combine the notary and relay technology. How the above and other uptakes towards interoperability function in detail will be discussed in \autoref{ch:chapter06}.

% MB interesting https://arxiv.org/ftp/arxiv/papers/1902/1902.04471.pdf   -> read it, talks about on and off chain impl of swaps!!

\chapter{Requirement Analysis and Concept}
\label{ch:chapter04}
WRITE ABOUT REQUIREMENT ANALYSIS AND CONCEPT HERE
% https://www.visual-paradigm.com/guide/requirements-gathering/requirement-analysis-techniques/

\chapter{Implementation}
\label{ch:chapter05}
WRITE ABOUT IMPLEMENTATION HERE

\section{Reference Architecture}
\label{sec:chapter05:ref_architecture}

SHOW FIGURE FOR REFERENCE ARCHITECTURE HERE
%
% Section: Listen
%
\section{Smart Contracts}
\label{sec:chapter05:smartcontracts}
WRITE ABOUT SMART CONTRACT IMPLEMENTATIONS HERE

\section{Middleware (Intermediate Party)}
\label{sec:chapter05:middleware}
WRITE ABOUT MIDDLEWARE HERE

\section{Proof of Concept (aka Tests?)}
\label{sec:chapter05:poc}
EXPLAIN TESTING AND PROOF OF CONCEPT HERE

\chapter{Future Research and Outlook}
\label{ch:chapter06}
% MB add subchapter for variety of consensus algorithms and tell why pow needs to be replaced and the different purposes of those algorithms.
WRITE ABOUT FUTURE RESEARCH AND OUTLOOK HERE
non interactive proofs of poW \cite{kiayias2017non} sidechains \cite{kiayias2019proof} polkadot \cite{wood2016polkadot}  chain interoperability \cite{buterin2016chain} sharding \cite{buterin2017sharding} plasma \cite{poon2017plasma} z-snarks \cite{garoffolo2020zendoo} towards secure interoperability with smart contracts \cite{dagher2017towards}

caught in chains mention open tasks from paper \cite{borkowski2018caught}
pegged sidechains \cite{back2014enabling}
sidechains and interoperability \cite{johnson2019sidechains}

% These areas range from generic industrial applications to more specic use cases in Business Process Management (BPM) [5,6], anti-counterfeiting [7], or healthcare [8].  from -> towards blockchain interoperability \cite{schulte2019towards}

COSMOS \cite{kwon2018network} and tendermint \cite{kwon2014tendermint} buchmann \cite{buchman2016tendermint} PBFT \cite{castro1999practical}

pick some current research and make MB different chapters

% Consensus mechanisms	Proof of authorityProof of spaceProof of stakeProof of work

\section{Interoperability Technologies}
\label{sec:background:interoperability}

\section{Consensus Algorithms}
\label{sec:background:consensus}


\chapter{Conclusion}
\label{ch:chapter07}


\chapter{Terminology}
\label{ch:chapter08}

\begin{center}
	\begin{tabular}{ p{4cm} p{8cm} } 
		Address: & A 160-bit code used for identifying Accounts.  \\ 
		Account: & Accounts have an intrinsic balance and transaction count held as part of ethereum state. Those accounts with empty associated \ac{EVM} code are controlled by external entities and those with non-empty \ac{EVM} code (thus the account represents an autonomous object). Every Account has a single address that identifies it. \\
		Alt-Coin: & The term Alt-Coin refers to all cryptocurrencies launched after the success of bitcoin. Generally, they sell themselves as better alternatives to bitcoin or try to solve certain technological problems in a "better" or different way. \\
		App: & An app is a type of software that allows you to perform specific tasks. Its also an acronym for application. Its often named after the device the application is running on. E.g. mobile app, desktop app or \ac{DApp}. Decentralized apps are a referral for applications running on decentralized architectures like the \ac{EVM}. \\
		Asset: & An asset is a resource with economic value, owned or controlled by an individual, corporation or country. In financial context it comes with the expectation that it will provide a future benefit. In context of this work it can also be a car title owned by an individual like Carol.\\
		Atomic Transaction: & Atomic Transactions are associated with Database operations where a set of actions must all complete or else none of them complete (atomicity). Same concept applies to swaps in blockchain context. \\
		Autonomous Object: & A notional object, which is existent only in the hypothetical state of the ethereum public chain. It has an address and thus an associated account, which will have non-empty \ac{EVM} code. Incorporated only as the Storage State of that account. \\
	\end{tabular}
\end{center}

%  App:  -> According to Wood an app is the end-user-visible application hosted in the ethereum browser.

\clearpage

\begin{center}
	\begin{tabular}{ p{4cm} p{8cm} }
		Block: & A block is a set of transactions, smart contracts and meta data, appended to the previous block in the blockchain. It has to be verified (mined) by the nodes of the network to become valid. \\
		Block Time: & It defines the time that it takes for a block to get confirmed (mined) by participants of the network. In case of ethereum there is an expected block time of 10 to 19 seconds. \\
		Bytecode: & Bytecode is the language which the \ac{EVM} understands and can execute. Smart contracts are often written in a high level programming language like solidity and compiled down to bytecode, which consists of a series of bytes, where each byte represents an operation for the \ac{EVM} to execute. Its often referred to as \ac{EVM Code}. \\
		Cryptocurrency: & A cryptocurrency is a digital asset designed to work as medium of exchange and most of the time not issued by any state or central bank. The individual coin ownership are stored in a ledger, using strong cryptography to secure transaction records, to control the creation of additional coins, and to verify the transfer of coin ownership. \\
		CryptoNote: & CryptoNote is an application layer protocol which aims to solve specific problems of bitcoin. These are respectively traceability of transactions, the \ac{PoW} function, irregular emission, hardcoded constants and bulky scripts. The protocol is the basis of several decentralized privacy-oriented cryptocurrencies. \\
		Contract:  & Generally a contract is a written or spoken agreement, especially one concerning employment, sales, or tenancy, that is intended to be enforceable by law. In ethereum or cryptocurrency environment a contract is more meant to be a financial contract and mostly referred to as smart contract. \\
		External Actor: & An external actor in the context of this thesis is an entity, which resides and acts outside or inside of the cryptocurrency system, with potential malicious behavior. \\
	\end{tabular}
\end{center}

\clearpage

\begin{center}
	\begin{tabular}{ p{4cm} p{8cm} } 
		Ether: & Ether (short ETH) is the internal cryptocurrency of the ethereum blockchain. It can be transferred from account to account, but is also used to pay the gas fees for smart contracts and their execution of functions. \\
		Ethereum Virtual Machine: & Ethereum provides a decentralized virtual machine, called the \ac{EVM}. It can execute scripts by using an international network of public nodes, in case of the ethereum public chain. The virtual machine's instruction set is Turing-complete. \\
		Gas: & Its the fundamental network cost unit and can be converted freely from and to Ether as required. Gas does not exist outside of the computational engine of ethereum, its price is set by the transactions. Miners are free to ignore transactions, which have a too low gas price. \\
		Genesis Block: & The genesis block is the first ever mined or origin block of a public or private ethereum network. It contains all essential information to configure the network and as well how to find related peers. \\
		Hash: & Is the result of any hash function that can be used to map data of arbitrary size to fixed-size values. The values returned by a hash function are always the same result of same input and are called hash values, hash codes, digests or simply hashes. \\
		Padding: & All six SHA functions (SHA-0, SHA-1, SHA-224, SHA-256, SHA-384 and SHA-512) start by padding the message according to the so-called Merkle-Damg{\aa}rd strengthening technique. The message is appended with a binary one and right-padded with a variable number of zeros, followed by the length of the original message coded over two binary words. The total padded message length must be a multiple of the message block size of the according function. \\
	\end{tabular}
\end{center}

\clearpage

\begin{center}
	\begin{tabular}{ p{4cm} p{8cm} }
		Protocol: & Generally a protocol is a system of rules how a computer and its developers can connect to, participate in and transmit information over a system or network. These instructions define code syntax and semantics that the system expects. Ethereum's protocol is built and designed for decentralized applications, with emphasis on rapid development time, security and interactivity. \\
		Public Key: & In ethereum context the public key is derived from the private key using \ac{ECDSA}. Its also a synonym for the address.  \\
		Public Blockchain: & A public blockchain is a distributed and decentralized open network. Anyone can download the protocol and read, write or participate in it. Transactions are recorded as blocks and linked together to form a chain. \\
		Private Key: & A private key is a large random number, which is also used to create the public key or address. The private key allows the user to sign and send transactions. Whoever owns the private key has full control over the ether associated with the account. \\
		Private Blockchain: & A private blockchain is a completely private blockchain, which is isolated from other public blockchains. Private chains are mainly created by organizations to restrict the read and write permissions, only nodes with the right permissions can access these blockchains. \\
		Storage State: & Storage state is the information particular to a given account, which is maintained between the times that an account runs associated \ac{EVM Code}. \\
		Solidity: & Solidity is a high-level and object-oriented programming language for implementing smart contracts. The code gets compiled down to bytecode for the ethereum blockchain to execute. \\
	\end{tabular}
\end{center}

\clearpage

\begin{center}
	\begin{tabular}{ p{4cm} p{8cm} }
		Transaction:  & A transaction in ethereum context is the way an external actor interacts with the ethereum network, if someone wants to modify or update the state stored in the blockchain. \\
		Token: & Ethereum tokens are simply digital assets, which are being built on top of the ethereum blockchain. They can also strengthen ethereum's ecosystem, since ether are needed to execute the smart contracts on which the tokens a built on. \\
		Miner: & The process in which transactions are verified and added to the blockchain digital ledger is called cryptocurrency mining. The external actor or entity that runs the node in the network is called a miner. \\
		Nonce: & The nonce is the number of transactions sent from a given address, each time a transaction is sent from a given account the nonce is increased by one. Its specific value before and after increasing can only be used once. \\
		On-chain: & An on-chain transaction (synonym for transaction), occurs and is considered valid when the blockchain is modified to reflect the transaction on the public ledger. Smart contracts and all pieces of code, that get executed by the \ac{EVM} for example are considered to be on-chain. \\
		Off-chain: & An off-chain transaction takes the value outside of the blockchain. It can be executed using multiple methods and patterns. Off-chain implementations are all kinds of software, which takes some part in transaction or data verification off the blockchain. \\
	\end{tabular}
\end{center}






